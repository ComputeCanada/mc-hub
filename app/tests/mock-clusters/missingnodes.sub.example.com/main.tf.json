{
    "terraform": {
        "required_version": ">= 0.12.21"
    },
    "module": {
        "openstack": {
            "source": "git::https://github.com/ComputeCanada/magic_castle.git//openstack?ref=11.7",
            "generate_ssh_key": true,
            "config_git_url": "https://github.com/ComputeCanada/puppet-magic_castle.git",
            "config_version": "11.7",
            "cluster_name": "missingnodes",
            "domain": "sub.example.com",
            "image": "CentOS-7-x64-2021-11",
            "nb_users": 10,
            "instances": {
                "mgmt": {
                    "type": "p4-6gb",
                    "count": 1,
                    "tags": [
                        "mgmt",
                        "nfs",
                        "puppet"
                    ]
                },
                "login": {
                    "type": "p4-6gb",
                    "count": 1,
                    "tags": [
                        "login",
                        "proxy",
                        "public"
                    ]
                },
                "node": {
                    "type": "p2-3gb",
                    "count": 1,
                    "tags": [
                        "node"
                    ]
                }
            },
            "volumes": {
                "nfs": {
                    "home": {
                        "size": 100
                    },
                    "project": {
                        "size": 50
                    },
                    "scratch": {
                        "size": 50
                    }
                }
            },
            "public_keys": [
                "ssh-rsa FAKE"
            ],
            "guest_passwd": "password-123"
        }
    }
}